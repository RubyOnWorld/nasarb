# $Id$

# Fortran Test Kit (FortranTK) sample makefile: compiles, links,
# and runs test suites

# Note: requires TestBits.mk generated by GatherTests Ruby script

F9X = lf95	# Lahey compiler
F9X = f90	# SGI compiler

TESTKIT = FortranTK.f90

include TestBits.mk

CODE    = $(SOURCES) $(TESTKIT) $(TESTS) $(RUNNER)

default: $(EXECUTABLE) test

$(EXECUTABLE): $(CODE)
	$(F9X) -o $(EXECUTABLE) $(CODE)

test: $(EXECUTABLE)
	./$(EXECUTABLE)

clean:
	/bin/rm -f *.mod *.o $(EXECUTABLE) 

realclean: clean
	/bin/rm -f $(RUNNER) TestBits.mk *Test.f90
